<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Vue tree pour mb.renting.day.config -->
    <record id="view_mb_renting_day_config_tree" model="ir.ui.view">
        <field name="name">mb.renting.day.config.tree</field>
        <field name="model">mb.renting.day.config</field>
        <field name="arch" type="xml">
            <list editable="bottom">
                <field name="company_id" invisible="1"/>
                <field name="period_id" invisible="1"/>
                <field name="day_of_week"/>
                <field name="is_open"/>
                <field name="allow_pickup"/>
                <field name="pickup_hour_from" widget="float_time"/>
                <field name="pickup_hour_to" widget="float_time"/>
                <field name="allow_return"/>
                <field name="return_hour_from" widget="float_time"/>
                <field name="return_hour_to" widget="float_time"/>
            </list>
        </field>
    </record>

    <!-- Vue form pour mb.renting.period -->
    <record id="view_mb_renting_period_form" model="ir.ui.view">
        <field name="name">mb.renting.period.form</field>
        <field name="model">mb.renting.period</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <group>
                        <field name="name"/>
                        <field name="company_id" invisible="1"/>
                        <field name="start_date"/>
                        <field name="end_date"/>
                        <field name="is_closed"/>
                    </group>
                    <group>
                        <field name="minimal_time_duration"/>
                        <field name="minimal_time_unit"/>
                    </group>
                </group>
                <notebook>
                    <page string="Configuration des jours">
                        <field name="day_configs" context="{'default_company_id': company_id, 'default_period_id': id}"/>
                    </page>
                </notebook>
            </form>
        </field>
    </record>

    <record id="res_config_settings_view_form_rental_periods" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.rental.periods</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="sale_renting.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <!-- Supprimer tout le bloc "Rent Online" et le remplacer par notre contenu personnalisé -->
            <xpath expr="//block[@id='sale_renting_product_settings']" position="replace">
                <block title="Rent Online" id="sale_renting_product_settings">
                    <h2>Configuration des périodes de location</h2>
                    <div class="row mt16 o_settings_container" id="rental_seasonal_settings">
                        <div class="col-12 col-lg-12 o_setting_box">
                            <div class="o_setting_right_pane">
                                <span class="o_form_label">Périodes de location</span>
                                <div class="text-muted">
                                    Définir les périodes de location et leurs configurations associées
                                </div>
                                <div class="content-group">
                                    <div class="mt16">
                                        <field name="renting_periods" context="{'default_company_id': company_id}"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </block>
            </xpath>
        </field>
    </record>
</odoo>
